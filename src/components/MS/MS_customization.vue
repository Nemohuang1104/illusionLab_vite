<template>
    <div class="template">
        <div  class="customization" >
            <div  :class="{'show': true, 'new-position': isMoved}">
                <div class="ticket">
                    <div class="subTit">
                        <div class="TST"
                            :style="{color:subTitColor}">
                            Mind Spectrum
                        </div>
                        <div class="TST"
                            :style="{color:subsubTitColor}">
                            在繪本的世界中，找到新的自己
                        </div>
                    </div>
                    <div class="botSubTit">
                        <div class="DSTT"
                            :style="{color:DSTTColor}">
                            {{ monthDay }}
                        </div>
                        <div class="DSTB"
                            :style="{color:DSTBColor}">
                            {{ year }} <span :style="{color:DSTBRColor}">{{ monthShort }}</span>
                        </div>
                    </div>
                    <div class="rightSubTit">
                        <div class="RSTT"
                            :style="{color:RSTTColor}">
                            Mind Spectrum
                        </div>
                        <div class="RSTM"
                            :style="{color:RSTMColor}">
                            {{ monthDay }}
                        </div>
                        <div class="RSTB"
                            :style="{color:RSTMColor}">
                            {{ year }}  {{ monthShort }}
                        </div>
                    </div>
                    <img class="realSticker" :src="realStickerRoad" alt="">
                    <img class="bigSticker" :src="bigStickerRoad" alt="">
                    <img class="barcode" :src="barcode" alt="">
                    <svg width="359" height="181" viewBox="0 0 359 181" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path :d="pathData1" :fill="tk_bg_color"/>
                        <path :d="pathData3" :stroke="tk_stk_color"/>
                        <path d="M73.8561 38.3041H71.8041V42.1041C71.9561 42.1041 72.0954 42.1041 72.2221 42.1041C72.3741 42.1041 72.5261 42.1041 72.6781 42.1041C73.1848 42.1041 73.5014 41.9901 73.6281 41.7621C73.7801 41.5341 73.8561 41.1795 73.8561 40.6981V38.3041ZM84.9521 46.3601V51.9841C85.6108 51.3001 86.2061 50.4261 86.7381 49.3621C87.2954 48.2981 87.6501 47.2975 87.8021 46.3601H84.9521ZM83.7361 38.3041H81.6081V42.1041C81.7601 42.1041 81.9121 42.1168 82.0641 42.1421C82.2414 42.1421 82.4061 42.1421 82.5581 42.1421C83.0648 42.1421 83.3814 42.0281 83.5081 41.8001C83.6601 41.5468 83.7361 41.1795 83.7361 40.6981V38.3041ZM93.5021 38.3041H91.4501V42.1041C91.6021 42.1041 91.7415 42.1041 91.8681 42.1041C92.0201 42.1041 92.1721 42.1041 92.3241 42.1041C92.8815 42.1041 93.2108 41.9775 93.3121 41.7241C93.4388 41.4708 93.5021 41.0908 93.5021 40.5841V38.3041ZM77.3141 39.7481C77.3141 41.2175 76.9974 42.1928 76.3641 42.6741C75.7561 43.1555 74.7554 43.3961 73.3621 43.3961H68.6121V37.0501H77.3141V39.7481ZM101.064 54.1501C101.064 54.7075 100.836 55.1888 100.38 55.5941C99.9241 55.9995 99.4175 56.2021 98.8601 56.2021H65.6861V54.3401H80.5061V46.3601H75.4141C75.9208 46.4615 76.4274 46.5628 76.9341 46.6641C77.4408 46.7655 77.9474 46.8668 78.4541 46.9681C78.3274 47.2721 78.1754 47.5761 77.9981 47.8801C77.8461 48.1841 77.6688 48.4755 77.4661 48.7541C77.8208 49.3875 78.2514 49.9955 78.7581 50.5781C79.2648 51.1355 79.7588 51.6801 80.2401 52.2121C80.3161 52.2881 80.3541 52.3895 80.3541 52.5161C80.3541 52.6935 80.2781 52.8328 80.1261 52.9341C79.9994 53.0355 79.8474 53.0861 79.6701 53.0861C79.5181 53.0861 79.2521 52.9975 78.8721 52.8201C78.4921 52.6175 78.0741 52.3895 77.6181 52.1361C77.1874 51.8828 76.7821 51.6295 76.4021 51.3761C76.0221 51.1228 75.7561 50.9455 75.6041 50.8441C75.1734 51.2241 74.6034 51.6295 73.8941 52.0601C73.1848 52.4908 72.4501 52.8581 71.6901 53.1621C70.9554 53.4408 70.2841 53.5801 69.6761 53.5801C69.5748 53.5801 69.4481 53.5548 69.2961 53.5041C69.1694 53.4535 69.1061 53.3648 69.1061 53.2381C69.1061 53.1621 69.1314 53.0988 69.1821 53.0481C69.2581 52.9721 69.3214 52.9088 69.3721 52.8581C70.3601 52.0728 71.3228 51.1101 72.2601 49.9701C73.2228 48.8048 73.8561 47.6015 74.1601 46.3601H68.1181V44.6501H94.6421C94.7181 44.1688 94.9715 43.7508 95.4021 43.3961C95.8328 43.0161 96.2888 42.8261 96.7701 42.8261C97.2515 42.8261 97.7201 43.0035 98.1761 43.3581C98.6575 43.7128 98.8981 44.1435 98.8981 44.6501C98.8981 45.1061 98.7461 45.4608 98.4421 45.7141C98.1635 45.9675 97.8088 46.1448 97.3781 46.2461C96.9728 46.3221 96.5801 46.3601 96.2001 46.3601H89.0941C89.6008 46.4615 90.1201 46.5628 90.6521 46.6641C91.1841 46.7401 91.7161 46.8161 92.2481 46.8921C92.1468 47.1961 92.0201 47.4875 91.8681 47.7661C91.7161 48.0195 91.5388 48.2855 91.3361 48.5641C91.7921 49.2735 92.3368 49.9068 92.9701 50.4641C93.6035 50.9961 94.2368 51.5281 94.8701 52.0601C94.9715 52.1361 95.0601 52.2121 95.1361 52.2881C95.2375 52.3641 95.3261 52.4401 95.4021 52.5161C95.5288 52.6428 95.5921 52.7568 95.5921 52.8581C95.5921 53.0101 95.5288 53.1241 95.4021 53.2001C95.2755 53.2508 95.1488 53.2761 95.0221 53.2761C94.4901 53.2761 93.8695 53.1495 93.1601 52.8961C92.4761 52.6175 91.7921 52.3008 91.1081 51.9461C90.4495 51.5915 89.9048 51.2621 89.4741 50.9581C88.9168 51.5155 88.2201 52.0095 87.3841 52.4401C86.5734 52.8455 85.7628 53.0735 84.9521 53.1241V54.3401H96.1621C96.1621 53.6815 96.4155 53.1241 96.9221 52.6681C97.4288 52.2121 97.9988 51.9841 98.6321 51.9841C99.1895 51.9841 99.7341 52.1995 100.266 52.6301C100.798 53.0608 101.064 53.5675 101.064 54.1501ZM79.5561 33.4401C79.5561 33.5921 79.4421 33.7315 79.2141 33.8581C78.9861 33.9595 78.8214 34.0355 78.7201 34.0861C77.8588 34.4915 76.9974 34.8968 76.1361 35.3021C75.2748 35.6821 74.4134 36.0621 73.5521 36.4421C73.4254 36.2901 73.2101 36.0495 72.9061 35.7201C72.6274 35.3908 72.3614 35.0615 72.1081 34.7321C71.8801 34.3775 71.7661 34.1115 71.7661 33.9341C71.7661 33.7568 71.8548 33.6428 72.0321 33.5921C72.2601 33.4908 72.6654 33.4021 73.2481 33.3261C73.8561 33.2501 74.5274 33.1868 75.2621 33.1361C76.0221 33.0855 76.7188 33.0475 77.3521 33.0221C78.0108 32.9968 78.4921 32.9841 78.7961 32.9841C78.9481 32.9841 79.1128 33.0095 79.2901 33.0601C79.4674 33.1108 79.5561 33.2375 79.5561 33.4401ZM87.1181 39.7481C87.1181 41.2175 86.8141 42.1928 86.2061 42.6741C85.6234 43.1555 84.6228 43.3961 83.2041 43.3961H78.4541V37.0501H87.1181V39.7481ZM79.2901 31.9581C79.2901 32.2875 79.1128 32.4521 78.7581 32.4521C77.7701 32.4521 76.7821 32.4015 75.7941 32.3001C74.8061 32.1988 73.8181 32.1101 72.8301 32.0341C72.9314 31.7301 73.0708 31.4135 73.2481 31.0841C73.4254 30.7548 73.5901 30.4508 73.7421 30.1721C73.8434 30.0201 73.9701 29.8808 74.1221 29.7541C74.2741 29.6021 74.4388 29.5261 74.6161 29.5261C74.7428 29.5261 75.0341 29.6148 75.4901 29.7921C75.9461 29.9441 76.4401 30.1341 76.9721 30.3621C77.5041 30.5901 77.9728 30.8181 78.3781 31.0461C78.8088 31.2488 79.0621 31.4008 79.1381 31.5021C79.2394 31.6288 79.2901 31.7808 79.2901 31.9581ZM96.9221 39.7481C96.9221 41.2428 96.6181 42.2308 96.0101 42.7121C95.4021 43.1681 94.3888 43.3961 92.9701 43.3961H88.2961V37.0501H96.9221V39.7481ZM99.3921 27.7021C99.2148 28.7155 98.8474 29.7035 98.2901 30.6661C97.7328 31.6035 97.0868 32.4395 96.3521 33.1741C96.0228 33.5035 95.6555 33.8075 95.2501 34.0861C94.8701 34.3395 94.4268 34.4661 93.9201 34.4661C93.7428 34.4661 93.6035 34.3901 93.5021 34.2381C93.4008 34.0861 93.3501 33.9215 93.3501 33.7441C93.3501 33.0095 93.3755 32.2875 93.4261 31.5781C93.5021 30.8688 93.5781 30.1595 93.6541 29.4501H90.7281C90.8295 29.5515 91.0068 29.7795 91.2601 30.1341C91.5135 30.4635 91.7541 30.8055 91.9821 31.1601C92.2355 31.5148 92.3621 31.7428 92.3621 31.8441C92.3621 31.9708 92.2861 32.0595 92.1341 32.1101C91.9821 32.1355 91.8555 32.1481 91.7541 32.1481C91.2728 32.1988 90.7915 32.2368 90.3101 32.2621C89.8541 32.2621 89.3855 32.2875 88.9041 32.3381C88.3721 32.3635 87.8401 32.4015 87.3081 32.4521C86.7761 32.5028 86.2441 32.5281 85.7121 32.5281C85.4081 32.5281 85.2561 32.4015 85.2561 32.1481C85.2561 31.9961 85.3321 31.8695 85.4841 31.7681C85.6361 31.6668 85.7628 31.5908 85.8641 31.5401C86.5988 31.1348 87.3588 30.7675 88.1441 30.4381C88.9294 30.1088 89.7021 29.7795 90.4621 29.4501H84.6861V35.9101H80.2021V29.4501H71.2341V33.8961H66.7501V27.7021H80.2021V25.5361H70.6261V23.7121H90.9181C90.9181 23.1041 91.1588 22.6228 91.6401 22.2681C92.1215 21.8881 92.6408 21.6981 93.1981 21.6981C93.6795 21.6981 94.1861 21.8755 94.7181 22.2301C95.2501 22.5595 95.5161 22.9901 95.5161 23.5221C95.5161 24.2315 95.2755 24.7508 94.7941 25.0801C94.3381 25.3841 93.7935 25.5361 93.1601 25.5361H84.6861V27.7021H99.3921ZM92.7421 35.4161C92.7421 35.7201 92.5648 35.8721 92.2101 35.8721C92.1088 35.8721 91.8301 35.8468 91.3741 35.7961C90.9181 35.7201 90.3735 35.6441 89.7401 35.5681C89.1321 35.4668 88.5241 35.3781 87.9161 35.3021C87.3334 35.2008 86.8268 35.1121 86.3961 35.0361C85.9654 34.9601 85.7248 34.9095 85.6741 34.8841C85.5221 34.8335 85.4461 34.7321 85.4461 34.5801C85.4461 34.4788 85.5728 34.2761 85.8261 33.9721C86.1048 33.6681 86.3834 33.3768 86.6621 33.0981C86.9661 32.7941 87.1688 32.5915 87.2701 32.4901C87.4981 32.5661 87.9034 32.7181 88.4861 32.9461C89.0688 33.1741 89.6895 33.4401 90.3481 33.7441C91.0068 34.0228 91.5641 34.3141 92.0201 34.6181C92.5015 34.9221 92.7421 35.1881 92.7421 35.4161Z"
                            :fill="TitColor" />
                        <path d="M27.7958 38.4227C27.7958 38.563 27.7682 38.7454 27.713 38.9699C27.4368 40.1203 27.0088 41.411 26.4289 42.8419C25.8767 44.2448 25.2416 45.6057 24.5236 46.9244C23.8333 48.2432 23.1153 49.3795 22.3698 50.3335C22.2593 50.4457 22.0798 50.6422 21.8313 50.9227C21.5828 51.2033 21.3895 51.3436 21.2514 51.3436C21.0581 51.3436 20.9615 51.2875 20.9615 51.1753V50.9648C21.0719 50.7123 21.1548 50.4598 21.21 50.2073C21.2928 49.9267 21.3619 49.6601 21.4171 49.4076C21.8865 47.3874 22.3007 45.3672 22.6597 43.347C23.0463 41.3268 23.3224 39.2645 23.4881 37.1601L27.1331 37.9598C27.2159 37.9878 27.2988 38.0019 27.3816 38.0019C27.4644 38.0019 27.5335 38.0299 27.5887 38.086C27.7268 38.1422 27.7958 38.2544 27.7958 38.4227ZM56.9971 44.9042C56.9971 45.3812 56.9142 45.8442 56.7485 46.2931C56.6105 46.742 56.4034 47.1629 56.1272 47.5557C54.6085 49.7162 52.6755 51.3997 50.3284 52.6062C47.9813 53.7847 45.496 54.3739 42.8728 54.3739C42.6519 54.3739 42.4171 54.3739 42.1686 54.3739C41.9477 54.402 41.7268 54.416 41.5059 54.416C40.1252 54.416 38.7584 54.2617 37.4053 53.953C36.2179 53.6725 35.1824 53.1393 34.2988 52.3537C33.4428 51.54 32.7662 50.572 32.2692 49.4497C31.7998 48.3273 31.5098 47.191 31.3994 46.0406C31.3441 45.3111 31.3027 44.5815 31.2751 43.852C31.2751 43.1225 31.2751 42.407 31.2751 41.7056L31.3165 29.416L35.1686 29.5423C35.0581 31.8711 34.9615 34.2 34.8787 36.5288C34.8234 38.8296 34.7958 41.1444 34.7958 43.4732C34.7958 45.5496 35.072 47.1769 35.6242 48.3554C36.1765 49.5338 37.0601 50.3616 38.2751 50.8386C39.4901 51.3156 41.0779 51.5541 43.0384 51.5541C46.1588 51.5541 49.072 50.8245 51.7781 49.3655C52.8274 48.8324 53.7663 48.1029 54.5947 47.1769C53.9872 47.1489 53.4487 46.9665 52.9793 46.6298C52.5375 46.265 52.3166 45.7179 52.3166 44.9884C52.3166 44.4272 52.5375 43.9081 52.9793 43.4312C53.4211 42.9261 53.932 42.6736 54.5118 42.6736C55.1746 42.6736 55.7544 42.87 56.2515 43.2628C56.7485 43.6556 56.9971 44.2028 56.9971 44.9042Z" 
                            :fill="TitColor" />
                        <path d="M56.4585 34.7308C56.4033 34.5063 56.3757 34.3239 56.3757 34.1836C56.3757 34.0153 56.4447 33.903 56.5828 33.8469C56.638 33.7908 56.707 33.7627 56.7899 33.7627C56.8727 33.7627 56.9555 33.7487 57.0384 33.7207L60.6834 32.921C60.849 35.0254 61.1252 37.0877 61.5118 39.1079C61.8707 41.1281 62.2849 43.1483 62.7544 45.1685C62.8096 45.421 62.8786 45.6876 62.9615 45.9681C63.0167 46.2207 63.0995 46.4732 63.21 46.7257V46.9362C63.21 47.0484 63.1133 47.1045 62.9201 47.1045C62.782 47.1045 62.5887 46.9642 62.3402 46.6836C62.0916 46.403 61.9122 46.2066 61.8017 46.0944C61.0561 45.1404 60.3382 44.0041 59.6479 42.6853C58.9299 41.3666 58.2948 40.0057 57.7425 38.6028C57.1626 37.1718 56.7346 35.8812 56.4585 34.7308Z" 
                            :fill="TitColor" />
                        <path d="M118.886 40.318C118.557 42.5727 117.949 44.7133 117.062 46.74C116.201 48.7667 115.023 50.5653 113.528 52.136C112.059 53.7067 110.235 54.948 108.056 55.86C107.803 55.9613 107.423 56.1007 106.916 56.278C106.435 56.4553 105.941 56.62 105.434 56.772C104.953 56.924 104.585 57 104.332 57C104.053 57 103.914 56.848 103.914 56.544C103.914 56.3667 104.003 56.24 104.18 56.164C104.889 55.7333 105.573 55.29 106.232 54.834C106.916 54.4033 107.575 53.9093 108.208 53.352C109.551 52.136 110.602 50.7553 111.362 49.21C112.147 47.6647 112.73 46.0307 113.11 44.308C113.49 42.5853 113.769 40.8627 113.946 39.14L118.886 40.318ZM115.808 34.086C115.808 34.2633 115.732 34.4153 115.58 34.542C115.428 34.6433 115.276 34.694 115.124 34.694C114.896 34.694 114.668 34.6053 114.44 34.428C113.199 33.5667 111.97 32.6927 110.754 31.806C109.538 30.894 108.322 29.9947 107.106 29.108C107.283 28.956 107.562 28.7153 107.942 28.386C108.347 28.0313 108.778 27.6767 109.234 27.322C109.69 26.942 110.121 26.6253 110.526 26.372C110.931 26.0933 111.235 25.954 111.438 25.954C111.641 25.954 111.856 26.0427 112.084 26.22C112.16 26.2707 112.223 26.3467 112.274 26.448C112.35 26.524 112.413 26.6 112.464 26.676C112.743 27.0813 113.072 27.6007 113.452 28.234C113.832 28.8673 114.199 29.5513 114.554 30.286C114.909 30.9953 115.2 31.692 115.428 32.376C115.681 33.0347 115.808 33.6047 115.808 34.086ZM139.14 50.578C139.14 51.4393 138.874 52.1993 138.342 52.858C137.835 53.4913 137.164 54.036 136.328 54.492C135.517 54.948 134.631 55.3153 133.668 55.594C132.705 55.8727 131.768 56.0753 130.856 56.202C129.969 56.354 129.197 56.43 128.538 56.43C127.221 56.43 125.979 56.2907 124.814 56.012C123.674 55.7587 122.749 55.2267 122.04 54.416C121.331 53.6053 120.976 52.4147 120.976 50.844V38.494H104.256V36.632H118.202V23.37H122.8V36.632H132.68C132.705 35.8973 132.933 35.2513 133.364 34.694C133.795 34.1367 134.403 33.858 135.188 33.858C135.872 33.858 136.467 34.0987 136.974 34.58C137.481 35.0613 137.734 35.6567 137.734 36.366C137.734 36.9993 137.481 37.5187 136.974 37.924C136.493 38.304 135.961 38.494 135.378 38.494H125.498V49.78C125.498 51.452 125.827 52.554 126.486 53.086C127.145 53.618 128.272 53.884 129.868 53.884C130.4 53.884 131.046 53.8333 131.806 53.732C132.591 53.6307 133.351 53.4787 134.086 53.276C134.821 53.0733 135.391 52.8073 135.796 52.478C135.441 52.3767 135.125 52.1613 134.846 51.832C134.567 51.5027 134.428 51.148 134.428 50.768C134.428 50.1093 134.694 49.5773 135.226 49.172C135.758 48.7667 136.341 48.564 136.974 48.564C137.557 48.564 138.063 48.754 138.494 49.134C138.925 49.514 139.14 49.9953 139.14 50.578ZM134.238 28.006C134.238 28.158 134.099 28.3733 133.82 28.652C133.541 28.9053 133.339 29.0953 133.212 29.222C132.933 29.4753 132.515 29.83 131.958 30.286C131.401 30.742 130.767 31.2233 130.058 31.73C129.374 32.2367 128.677 32.7307 127.968 33.212C127.259 33.668 126.613 34.048 126.03 34.352C125.447 34.6307 124.979 34.77 124.624 34.77C124.523 34.77 124.421 34.7447 124.32 34.694C124.219 34.6433 124.168 34.5547 124.168 34.428C124.168 34.3013 124.244 34.0987 124.396 33.82C124.573 33.516 124.763 33.212 124.966 32.908C125.169 32.604 125.308 32.3887 125.384 32.262C126.068 31.0713 126.701 29.8553 127.284 28.614C127.892 27.3727 128.449 26.1187 128.956 24.852C129.488 25.1053 130.02 25.384 130.552 25.688C131.084 25.9667 131.616 26.2453 132.148 26.524C132.427 26.676 132.718 26.8153 133.022 26.942C133.326 27.0687 133.605 27.2333 133.858 27.436C133.959 27.512 134.048 27.6007 134.124 27.702C134.2 27.778 134.238 27.8793 134.238 28.006Z" 
                            :fill="TitColor" />
                        <path d="M149.918 45.714H147.296V54.226H147.752C148.36 54.226 148.816 54.0107 149.12 53.58C149.424 53.124 149.627 52.592 149.728 51.984C149.855 51.376 149.918 50.844 149.918 50.388V45.714ZM169.488 44.916H161.28V48.754H165.27C165.371 48.3233 165.599 47.994 165.954 47.766C166.309 47.5127 166.689 47.386 167.094 47.386C167.449 47.386 167.816 47.538 168.196 47.842C168.576 48.1207 168.766 48.4627 168.766 48.868C168.766 49.4507 168.576 49.8687 168.196 50.122C167.841 50.35 167.398 50.464 166.866 50.464H161.28V54.948H167.55C168.234 54.948 168.728 54.7073 169.032 54.226C169.336 53.7447 169.488 53.2 169.488 52.592V44.916ZM165.688 39.292V29.906H164.472V39.292H165.688ZM154.098 50.54C154.098 51.8827 153.832 52.9467 153.3 53.732C152.768 54.492 152.033 55.024 151.096 55.328C150.159 55.6573 149.082 55.822 147.866 55.822H143.154V44.156H154.098V50.54ZM153.262 39.292C153.262 39.6973 153.097 40.0647 152.768 40.394C152.439 40.7233 152.071 40.888 151.666 40.888H143.648V39.14H149.538C149.614 38.6587 149.829 38.2787 150.184 38C150.539 37.7213 150.957 37.582 151.438 37.582C151.894 37.582 152.312 37.7593 152.692 38.114C153.072 38.4433 153.262 38.836 153.262 39.292ZM153.262 34.39C153.262 34.7953 153.097 35.1627 152.768 35.492C152.439 35.8213 152.071 35.986 151.666 35.986H143.648V34.238H149.538C149.614 33.7567 149.829 33.3767 150.184 33.098C150.539 32.8193 150.957 32.68 151.438 32.68C151.894 32.68 152.312 32.8573 152.692 33.212C153.072 33.5413 153.262 33.934 153.262 34.39ZM174.162 51.566C174.162 52.934 173.921 53.998 173.44 54.758C172.959 55.518 172.262 56.0373 171.35 56.316C170.463 56.62 169.387 56.772 168.12 56.772H157.062V43.168H174.162V51.566ZM154.554 29.298C154.554 29.678 154.389 30.0453 154.06 30.4C153.731 30.7293 153.376 30.894 152.996 30.894H141.71V29.184H147.258C147.005 28.0947 146.777 27.0053 146.574 25.916C146.397 24.8013 146.232 23.6993 146.08 22.61H146.194C146.447 22.61 146.853 22.61 147.41 22.61C147.993 22.61 148.601 22.6353 149.234 22.686C149.893 22.7113 150.475 22.762 150.982 22.838C151.514 22.914 151.856 23.028 152.008 23.18C152.084 23.256 152.122 23.37 152.122 23.522C152.122 23.6993 152.021 24.0413 151.818 24.548C151.641 25.0547 151.413 25.6247 151.134 26.258C150.855 26.8913 150.589 27.4867 150.336 28.044C150.108 28.576 149.943 28.956 149.842 29.184H150.982C151.058 28.7533 151.261 28.386 151.59 28.082C151.919 27.7527 152.299 27.588 152.73 27.588C153.211 27.588 153.629 27.7527 153.984 28.082C154.364 28.386 154.554 28.7913 154.554 29.298ZM159.95 37.43C159.95 37.6073 159.874 37.7973 159.722 38C159.595 38.1773 159.431 38.266 159.228 38.266C159.101 38.266 159 38.2407 158.924 38.19C158.848 38.1393 158.759 38.0633 158.658 37.962C158.481 37.7593 158.316 37.5567 158.164 37.354C158.012 37.126 157.847 36.9233 157.67 36.746C157.189 36.138 156.682 35.53 156.15 34.922C155.643 34.2887 155.111 33.6933 154.554 33.136C154.807 33.0093 155.213 32.8193 155.77 32.566C156.327 32.2873 156.885 32.034 157.442 31.806C157.999 31.578 158.392 31.464 158.62 31.464C158.823 31.464 158.975 31.5147 159.076 31.616C159.177 31.7173 159.253 31.8693 159.304 32.072C159.405 32.4013 159.494 32.9333 159.57 33.668C159.671 34.3773 159.76 35.0867 159.836 35.796C159.912 36.5053 159.95 37.05 159.95 37.43ZM178 39.102C178 39.634 177.797 40.09 177.392 40.47C177.012 40.8247 176.569 41.002 176.062 41.002H154.022V39.292H160.748V29.906H155.466V28.12H161.888C161.483 27.6133 161.052 27.1193 160.596 26.638C160.165 26.1567 159.722 25.6753 159.266 25.194C159.063 24.966 158.848 24.7507 158.62 24.548C158.392 24.32 158.177 24.092 157.974 23.864C157.949 23.8387 157.936 23.788 157.936 23.712C157.936 23.5853 157.974 23.5093 158.05 23.484C158.177 23.408 158.443 23.3067 158.848 23.18C159.253 23.028 159.697 22.876 160.178 22.724C160.685 22.5467 161.141 22.4073 161.546 22.306C161.951 22.1793 162.23 22.116 162.382 22.116C162.737 22.116 163.015 22.2933 163.218 22.648C163.269 22.724 163.319 22.9773 163.37 23.408C163.446 23.8387 163.509 24.3327 163.56 24.89C163.636 25.4473 163.687 25.9667 163.712 26.448C163.763 26.904 163.788 27.208 163.788 27.36C163.788 27.74 163.585 27.9933 163.18 28.12H166.372C166.651 27.1067 166.917 26.0807 167.17 25.042C167.423 24.0033 167.651 22.9773 167.854 21.964C168.006 21.9893 168.335 22.078 168.842 22.23C169.349 22.382 169.906 22.5467 170.514 22.724C171.122 22.9013 171.654 23.066 172.11 23.218C172.591 23.37 172.87 23.4713 172.946 23.522C173.022 23.598 173.06 23.6867 173.06 23.788C173.06 23.94 172.857 24.2313 172.452 24.662C172.072 25.0673 171.616 25.5107 171.084 25.992C170.552 26.4733 170.045 26.9167 169.564 27.322C169.083 27.702 168.753 27.968 168.576 28.12L172.642 28.082C172.693 27.5753 172.921 27.17 173.326 26.866C173.731 26.562 174.175 26.41 174.656 26.41C175.112 26.41 175.543 26.6 175.948 26.98C176.353 27.3347 176.556 27.74 176.556 28.196C176.556 28.6773 176.366 29.0827 175.986 29.412C175.631 29.7413 175.226 29.906 174.77 29.906H169.564V39.292H173.516C173.516 38.7347 173.744 38.2407 174.2 37.81C174.681 37.354 175.201 37.126 175.758 37.126C176.265 37.126 176.759 37.3287 177.24 37.734C177.747 38.114 178 38.57 178 39.102ZM175.834 33.174C175.834 33.3007 175.669 33.5413 175.34 33.896C175.036 34.2507 174.631 34.6687 174.124 35.15C173.643 35.606 173.136 36.062 172.604 36.518C172.097 36.9487 171.629 37.316 171.198 37.62C170.793 37.8987 170.501 38.038 170.324 38.038C170.02 38.038 169.868 37.9113 169.868 37.658C169.868 37.582 169.881 37.506 169.906 37.43C169.931 37.354 169.957 37.278 169.982 37.202C170.286 36.2393 170.539 35.264 170.742 34.276C170.97 33.2627 171.173 32.2493 171.35 31.236C171.477 31.2613 171.755 31.3627 172.186 31.54C172.642 31.692 173.136 31.8693 173.668 32.072C174.2 32.2493 174.669 32.414 175.074 32.566C175.479 32.718 175.707 32.8193 175.758 32.87C175.809 32.9207 175.834 33.022 175.834 33.174Z" 
                            :fill="TitColor" />
                        <path d="M39.711 35.6992C39.711 38.8065 42.123 40.4621 43.8882 41.9445C44.511 42.4672 45.111 42.9598 45.711 42.9598C46.311 42.9598 46.911 42.4678 47.5338 41.9439C49.2996 40.4627 51.711 38.8065 51.711 35.6999C51.711 32.5932 48.411 30.3881 45.711 33.3759C43.011 30.3881 39.711 32.5919 39.711 35.6992Z" 
                            fill="#FF5959" stroke="#FF8B8B"/> 
                    </svg>
                    <svg width="96" height="181" viewBox="0 0 96 181" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path :d="pathData2" :fill="tk_right_color"/>
                        <path d="M20.0438 165.269C20.1223 165.269 20.2245 165.284 20.3502 165.314C20.9944 165.466 21.7172 165.7 22.5185 166.018C23.3042 166.32 24.0662 166.668 24.8047 167.061C25.5432 167.439 26.1796 167.832 26.7138 168.241C26.7767 168.301 26.8866 168.399 27.0438 168.535C27.2009 168.671 27.2795 168.777 27.2795 168.853C27.2795 168.959 27.248 169.012 27.1852 169.012H27.0673C26.9259 168.951 26.7845 168.906 26.6431 168.876C26.486 168.83 26.3367 168.792 26.1953 168.762C25.064 168.505 23.9327 168.278 22.8013 168.082C21.67 167.87 20.5152 167.719 19.3367 167.628L19.7845 165.632C19.8002 165.587 19.8081 165.541 19.8081 165.496C19.8081 165.451 19.8238 165.413 19.8552 165.383C19.8866 165.307 19.9495 165.269 20.0438 165.269ZM23.6734 149.278C23.9405 149.278 24.1998 149.323 24.4512 149.414C24.7026 149.49 24.9383 149.603 25.1582 149.754C26.3681 150.586 27.3109 151.644 27.9865 152.93C28.6465 154.215 28.9764 155.576 28.9764 157.013C28.9764 157.134 28.9764 157.262 28.9764 157.398C28.9921 157.519 29 157.64 29 157.761C29 158.517 28.9136 159.266 28.7407 160.007C28.5836 160.657 28.2851 161.224 27.8451 161.708C27.3894 162.177 26.8474 162.547 26.2189 162.819C25.5903 163.076 24.954 163.235 24.3098 163.296C23.9012 163.326 23.4927 163.349 23.0842 163.364C22.6756 163.364 22.275 163.364 21.8822 163.364L15 163.341L15.0707 161.232C16.3749 161.292 17.679 161.345 18.9832 161.39C20.2716 161.421 21.5679 161.436 22.8721 161.436C24.0348 161.436 24.9461 161.285 25.6061 160.982C26.266 160.68 26.7295 160.196 26.9966 159.53C27.2637 158.865 27.3973 157.996 27.3973 156.922C27.3973 155.213 26.9888 153.618 26.1717 152.136C25.8732 151.561 25.4646 151.047 24.9461 150.594C24.9304 150.926 24.8283 151.221 24.6397 151.478C24.4355 151.72 24.1291 151.841 23.7205 151.841C23.4063 151.841 23.1156 151.72 22.8485 151.478C22.5657 151.236 22.4242 150.956 22.4242 150.639C22.4242 150.276 22.5342 149.958 22.7542 149.686C22.9742 149.414 23.2806 149.278 23.6734 149.278Z" 
                            :fill="SColor"/>
                        <path d="M18.229 149.709C18.1033 149.739 18.0011 149.754 17.9226 149.754C17.8283 149.754 17.7654 149.717 17.734 149.641C17.7026 149.611 17.6869 149.573 17.6869 149.528C17.6869 149.482 17.679 149.437 17.6633 149.391L17.2155 147.395C18.394 147.305 19.5488 147.153 20.6801 146.942C21.8115 146.745 22.9428 146.518 24.0741 146.261C24.2155 146.231 24.3648 146.193 24.5219 146.148C24.6633 146.118 24.8047 146.072 24.9461 146.012H25.064C25.1268 146.012 25.1583 146.065 25.1583 146.171C25.1583 146.246 25.0797 146.352 24.9226 146.488C24.7654 146.624 24.6555 146.722 24.5926 146.783C24.0584 147.191 23.422 147.584 22.6835 147.962C21.945 148.356 21.183 148.703 20.3973 149.006C19.596 149.323 18.8732 149.558 18.229 149.709Z" 
                            :fill="SColor"/>
                        <path d="M21.9084 87.6364V89.2821H27.2508V88.9959C27.2508 88.6143 27.1157 88.3281 26.8454 88.1373C26.5592 87.9465 26.2253 87.8193 25.8437 87.7557C25.4621 87.6762 25.1282 87.6364 24.842 87.6364H21.9084ZM21.4075 75.3535V80.5052H23.8164V78.0009C23.5461 77.9373 23.3394 77.7942 23.1963 77.5716C23.0373 77.349 22.9578 77.1105 22.9578 76.8561C22.9578 76.6335 23.0532 76.4029 23.244 76.1644C23.4189 75.9259 23.6335 75.8067 23.888 75.8067C24.2537 75.8067 24.516 75.9259 24.675 76.1644C24.8181 76.387 24.8897 76.6653 24.8897 76.9992V80.5052H27.704V76.5699C27.704 76.1406 27.5529 75.8305 27.2508 75.6397C26.9487 75.4489 26.6069 75.3535 26.2253 75.3535H21.4075ZM17.8777 77.7386H11.9867V78.5018H17.8777V77.7386ZM24.9374 85.0129C25.7801 85.0129 26.4479 85.1798 26.9408 85.5137C27.4178 85.8477 27.7517 86.3088 27.9425 86.8971C28.1492 87.4854 28.2526 88.1611 28.2526 88.9243V91.8818H20.9305V85.0129H24.9374ZM17.8777 85.5376C18.1321 85.5376 18.3626 85.641 18.5693 85.8477C18.776 86.0544 18.8794 86.2849 18.8794 86.5393V91.5717H17.7823V87.8749C17.4802 87.8272 17.2417 87.6921 17.0668 87.4695C16.8919 87.2469 16.8044 86.9845 16.8044 86.6824C16.8044 86.3962 16.9157 86.1339 17.1383 85.8954C17.345 85.6569 17.5915 85.5376 17.8777 85.5376ZM14.801 85.5376C15.0554 85.5376 15.286 85.641 15.4927 85.8477C15.6994 86.0544 15.8027 86.2849 15.8027 86.5393V91.5717H14.7056V87.8749C14.4035 87.8272 14.165 87.6921 13.9901 87.4695C13.8152 87.2469 13.7277 86.9845 13.7277 86.6824C13.7277 86.3962 13.839 86.1339 14.0616 85.8954C14.2683 85.6569 14.5148 85.5376 14.801 85.5376ZM25.5813 72.4199C26.4399 72.4199 27.1077 72.571 27.5847 72.8731C28.0618 73.1752 28.3877 73.6125 28.5626 74.1849C28.7534 74.7414 28.8488 75.4171 28.8488 76.2121V83.1526H20.3104V72.4199H25.5813ZM11.6051 84.7267C11.8436 84.7267 12.0741 84.83 12.2967 85.0367C12.5034 85.2434 12.6068 85.466 12.6068 85.7046V92.7881H11.5335V89.3059C10.8498 89.4649 10.1661 89.608 9.48238 89.7352C8.78277 89.8465 8.09112 89.9499 7.40741 90.0453V89.9738C7.40741 89.8148 7.40741 89.5603 7.40741 89.2105C7.40741 88.8448 7.42331 88.4632 7.45511 88.0657C7.47101 87.6523 7.50281 87.2866 7.55051 86.9686C7.59821 86.6347 7.66976 86.4201 7.76516 86.3247C7.81286 86.277 7.88441 86.2531 7.97982 86.2531C8.09112 86.2531 8.30577 86.3167 8.62377 86.4439C8.94178 86.5552 9.29953 86.6983 9.69704 86.8732C10.0945 87.0481 10.4682 87.2151 10.818 87.3741C11.1519 87.5172 11.3904 87.6205 11.5335 87.6841V86.9686C11.2632 86.9209 11.0327 86.7937 10.8418 86.587C10.6351 86.3803 10.5318 86.1418 10.5318 85.8715C10.5318 85.5694 10.6351 85.307 10.8418 85.0844C11.0327 84.8459 11.2871 84.7267 11.6051 84.7267ZM16.709 81.34C16.8203 81.34 16.9396 81.3877 17.0668 81.4831C17.1781 81.5626 17.2337 81.6659 17.2337 81.7931C17.2337 81.8726 17.2178 81.9362 17.186 81.9839C17.1542 82.0316 17.1065 82.0873 17.0429 82.1509C16.9157 82.2622 16.7885 82.3655 16.6613 82.4609C16.5182 82.5563 16.391 82.6597 16.2797 82.771C15.8981 83.0731 15.5165 83.3911 15.1349 83.725C14.7374 84.043 14.3637 84.3769 14.0139 84.7267C13.9344 84.5677 13.8152 84.3133 13.6562 83.9635C13.4813 83.6137 13.3223 83.2639 13.1792 82.9141C13.0361 82.5643 12.9645 82.3178 12.9645 82.1747C12.9645 82.0475 12.9963 81.9521 13.0599 81.8885C13.1235 81.8249 13.2189 81.7772 13.3461 81.7454C13.5528 81.6818 13.8867 81.6262 14.3478 81.5785C14.793 81.5149 15.2382 81.4592 15.6835 81.4115C16.1287 81.3638 16.4705 81.34 16.709 81.34ZM17.7584 70.0111C18.0923 70.0111 18.3785 70.1383 18.617 70.3927C18.8396 70.6312 18.9509 70.9094 18.9509 71.2274V85.0606H17.8777V80.8391H11.9867V84.1543H10.8657V80.1236C10.5477 80.378 10.2376 80.6483 9.93554 80.9345C9.63343 81.2048 9.33133 81.4831 9.02923 81.7693C8.88613 81.8965 8.75097 82.0316 8.62377 82.1747C8.48067 82.3178 8.33757 82.453 8.19447 82.5802C8.17857 82.5961 8.14677 82.604 8.09907 82.604C8.01956 82.604 7.97186 82.5802 7.95596 82.5325C7.90826 82.453 7.84466 82.286 7.76516 82.0316C7.66976 81.7772 7.57436 81.499 7.47896 81.1969C7.36766 80.8789 7.28021 80.5926 7.21661 80.3382C7.1371 80.0838 7.09735 79.9089 7.09735 79.8135C7.09735 79.5909 7.20866 79.416 7.43126 79.2888C7.47896 79.257 7.63796 79.2252 7.90826 79.1934C8.17857 79.1457 8.48862 79.106 8.83843 79.0742C9.18823 79.0265 9.51418 78.9947 9.81629 78.9788C10.1025 78.947 10.2933 78.9311 10.3887 78.9311C10.6272 78.9311 10.7862 79.0583 10.8657 79.3127V77.3092C10.2297 77.1343 9.58573 76.9674 8.93383 76.8084C8.28192 76.6494 7.63796 76.5063 7.00195 76.3791C7.01785 76.2837 7.0735 76.077 7.16891 75.759C7.26431 75.441 7.36766 75.0912 7.47896 74.7096C7.59026 74.328 7.69361 73.9941 7.78901 73.7079C7.88441 73.4058 7.94801 73.2309 7.97982 73.1832C8.02752 73.1355 8.08317 73.1116 8.14677 73.1116C8.24217 73.1116 8.42502 73.2388 8.69532 73.4932C8.94973 73.7317 9.22798 74.0179 9.53008 74.3518C9.83219 74.6857 10.1104 75.0037 10.3648 75.3058C10.6033 75.6079 10.7703 75.8146 10.8657 75.9259L10.8418 73.374C10.5238 73.3422 10.2694 73.1991 10.0786 72.9446C9.88784 72.6902 9.79244 72.412 9.79244 72.1099C9.79244 71.8237 9.91169 71.5534 10.1502 71.299C10.3728 71.0446 10.6272 70.9174 10.9134 70.9174C11.2155 70.9174 11.4699 71.0366 11.6766 71.2751C11.8833 71.4977 11.9867 71.7521 11.9867 72.0383V75.3058H17.8777V72.8254C17.5279 72.8254 17.2178 72.6823 16.9475 72.3961C16.6613 72.094 16.5182 71.768 16.5182 71.4182C16.5182 71.1002 16.6454 70.7902 16.8998 70.4881C17.1383 70.1701 17.4245 70.0111 17.7584 70.0111ZM14.0378 71.3705C14.1173 71.3705 14.2683 71.4739 14.4909 71.6806C14.7135 71.8714 14.9759 72.1258 15.278 72.4438C15.5642 72.7459 15.8504 73.0639 16.1366 73.3978C16.4069 73.7158 16.6375 74.01 16.8283 74.2803C17.0032 74.5347 17.0906 74.7175 17.0906 74.8288C17.0906 75.0196 17.0111 75.115 16.8521 75.115C16.8044 75.115 16.7567 75.1071 16.709 75.0912C16.6613 75.0753 16.6136 75.0594 16.5659 75.0435C15.9617 74.8527 15.3496 74.6937 14.7294 74.5665C14.0934 74.4234 13.4574 74.2962 12.8214 74.1849C12.8373 74.1054 12.9009 73.9305 13.0122 73.6602C13.1076 73.374 13.2189 73.0639 13.3461 72.73C13.4574 72.3961 13.5608 72.1019 13.6562 71.8475C13.7516 71.5931 13.8152 71.45 13.847 71.4182C13.8788 71.3864 13.9424 71.3705 14.0378 71.3705Z" 
                            :fill="SColor"/>
                        <path d="M18.5698 106.646C19.985 106.853 21.3285 107.234 22.6005 107.791C23.8726 108.331 25.0015 109.071 25.9873 110.009C26.9731 110.931 27.7522 112.076 28.3246 113.443C28.3882 113.602 28.4757 113.841 28.587 114.159C28.6983 114.461 28.8016 114.771 28.897 115.089C28.9924 115.391 29.0401 115.622 29.0401 115.781C29.0401 115.956 28.9447 116.043 28.7539 116.043C28.6426 116.043 28.5631 115.987 28.5154 115.876C28.2451 115.431 27.9669 115.002 27.6807 114.588C27.4103 114.159 27.1003 113.745 26.7505 113.348C25.9873 112.505 25.1207 111.845 24.1508 111.368C23.1809 110.875 22.1553 110.51 21.0741 110.271C19.9929 110.033 18.9117 109.858 17.8305 109.746L18.5698 106.646ZM14.6584 108.578C14.7697 108.578 14.8651 108.626 14.9446 108.721C15.0082 108.816 15.04 108.912 15.04 109.007C15.04 109.15 14.9844 109.293 14.8731 109.436C14.3324 110.216 13.7839 110.987 13.2274 111.75C12.655 112.513 12.0905 113.276 11.534 114.04C11.4386 113.928 11.2876 113.753 11.0809 113.515C10.8583 113.26 10.6357 112.99 10.413 112.704C10.1745 112.418 9.97579 112.147 9.81679 111.893C9.64189 111.639 9.55444 111.448 9.55444 111.321C9.55444 111.193 9.61009 111.058 9.72139 110.915C9.75319 110.867 9.80089 110.828 9.86449 110.796C9.91219 110.748 9.95989 110.708 10.0076 110.677C10.262 110.502 10.5879 110.295 10.9855 110.057C11.383 109.818 11.8123 109.587 12.2734 109.365C12.7186 109.142 13.1558 108.959 13.5851 108.816C13.9985 108.657 14.3563 108.578 14.6584 108.578ZM25.0094 93.9338C25.55 93.9338 26.027 94.1007 26.4404 94.4346C26.8379 94.7526 27.1798 95.174 27.466 95.6987C27.7522 96.2075 27.9828 96.764 28.1577 97.3682C28.3326 97.9724 28.4598 98.5607 28.5393 99.1331C28.6347 99.6896 28.6824 100.175 28.6824 100.588C28.6824 101.415 28.5949 102.194 28.42 102.925C28.261 103.641 27.9271 104.221 27.4183 104.666C26.9095 105.112 26.1622 105.334 25.1764 105.334H17.425V115.828H16.2564V107.075H7.93262V104.189H16.2564V97.9883C15.7953 97.9724 15.3898 97.8293 15.04 97.559C14.6902 97.2887 14.5153 96.9071 14.5153 96.4142C14.5153 95.9849 14.6663 95.6112 14.9685 95.2932C15.2706 94.9752 15.6442 94.8162 16.0894 94.8162C16.4869 94.8162 16.8129 94.9752 17.0673 95.2932C17.3058 95.5953 17.425 95.9292 17.425 96.2949V102.496H24.5086C25.558 102.496 26.2496 102.289 26.5835 101.876C26.9174 101.462 27.0844 100.755 27.0844 99.7532C27.0844 99.4193 27.0526 99.0139 26.989 98.5369C26.9254 98.044 26.83 97.567 26.7028 97.1059C26.5756 96.6447 26.4086 96.287 26.2019 96.0326C26.1383 96.2552 26.0032 96.4539 25.7965 96.6288C25.5898 96.8037 25.3672 96.8912 25.1287 96.8912C24.7153 96.8912 24.3814 96.7242 24.127 96.3903C23.8726 96.0564 23.7454 95.6907 23.7454 95.2932C23.7454 94.9275 23.8646 94.6095 24.1031 94.3392C24.3416 94.0689 24.6437 93.9338 25.0094 93.9338ZM10.8424 97.0104C10.9378 97.0104 11.0729 97.0979 11.2478 97.2728C11.4068 97.4477 11.5261 97.5749 11.6056 97.6544C11.7646 97.8293 11.9872 98.0917 12.2734 98.4415C12.5596 98.7913 12.8617 99.1888 13.1797 99.634C13.4977 100.063 13.8077 100.501 14.1098 100.946C14.396 101.391 14.6345 101.796 14.8253 102.162C15.0003 102.528 15.0877 102.822 15.0877 103.045C15.0877 103.108 15.0718 103.172 15.04 103.235C15.0082 103.299 14.9526 103.331 14.8731 103.331C14.7935 103.331 14.6663 103.283 14.4914 103.188C14.3006 103.076 14.1098 102.957 13.919 102.83C13.7282 102.703 13.5931 102.615 13.5136 102.568C12.7663 102.138 12.0031 101.741 11.224 101.375C10.4448 100.993 9.65779 100.644 8.86278 100.326C9.02178 99.9917 9.19668 99.6578 9.38749 99.3239C9.56239 98.99 9.73729 98.6561 9.91219 98.3222C10.0076 98.1473 10.095 97.9645 10.1745 97.7737C10.254 97.5828 10.3574 97.4079 10.4846 97.2489C10.5323 97.1853 10.5879 97.1297 10.6515 97.082C10.6993 97.0343 10.7629 97.0104 10.8424 97.0104Z" 
                            :fill="SColor"/>
                        <path d="M19.3054 137.908V139.196H21.6904C21.6904 139.101 21.6904 139.013 21.6904 138.934C21.6904 138.838 21.6904 138.743 21.6904 138.648C21.6904 138.33 21.6189 138.131 21.4758 138.051C21.3327 137.956 21.1101 137.908 20.808 137.908H19.3054ZM24.3616 130.944H27.8915C27.4622 130.531 26.9136 130.157 26.2458 129.823C25.578 129.473 24.95 129.251 24.3616 129.155V130.944ZM19.3054 131.707V133.043H21.6904C21.6904 132.947 21.6984 132.852 21.7143 132.757C21.7143 132.645 21.7143 132.542 21.7143 132.447C21.7143 132.129 21.6427 131.93 21.4996 131.85C21.3406 131.755 21.1101 131.707 20.808 131.707H19.3054ZM19.3054 125.578V126.866H21.6904C21.6904 126.77 21.6904 126.683 21.6904 126.603C21.6904 126.508 21.6904 126.412 21.6904 126.317C21.6904 125.967 21.6109 125.761 21.4519 125.697C21.2929 125.617 21.0544 125.578 20.7364 125.578H19.3054ZM20.2117 135.738C21.1339 135.738 21.7461 135.937 22.0482 136.334C22.3503 136.716 22.5013 137.344 22.5013 138.218V141.2H18.5183V135.738H20.2117ZM29.2509 120.832C29.6008 120.832 29.9029 120.975 30.1573 121.261C30.4117 121.547 30.5389 121.865 30.5389 122.215V143.036H29.3702V133.735H24.3616V136.93C24.4252 136.612 24.4888 136.294 24.5524 135.976C24.616 135.658 24.6796 135.34 24.7432 135.022C24.9341 135.102 25.1249 135.197 25.3157 135.309C25.5065 135.404 25.6893 135.515 25.8642 135.643C26.2617 135.42 26.6433 135.15 27.009 134.832C27.3588 134.514 27.7007 134.204 28.0346 133.901C28.0823 133.854 28.1459 133.83 28.2254 133.83C28.3367 133.83 28.4241 133.878 28.4877 133.973C28.5513 134.053 28.5831 134.148 28.5831 134.259C28.5831 134.355 28.5275 134.522 28.4162 134.76C28.289 134.999 28.1459 135.261 27.9869 135.547C27.8279 135.817 27.6689 136.072 27.5099 136.31C27.3509 136.549 27.2396 136.716 27.176 136.811C27.4145 137.082 27.6689 137.439 27.9392 137.884C28.2095 138.33 28.44 138.791 28.6308 139.268C28.8057 139.729 28.8932 140.15 28.8932 140.532C28.8932 140.595 28.8773 140.675 28.8455 140.77C28.8137 140.85 28.758 140.89 28.6785 140.89C28.6308 140.89 28.5911 140.874 28.5593 140.842C28.5116 140.794 28.4718 140.754 28.44 140.723C27.9471 140.103 27.3429 139.498 26.6274 138.91C25.896 138.306 25.1408 137.908 24.3616 137.718V141.51H23.2884V124.862C22.9863 124.815 22.7239 124.656 22.5013 124.385C22.2628 124.115 22.1436 123.829 22.1436 123.527C22.1436 123.225 22.2549 122.93 22.4775 122.644C22.7001 122.342 22.9704 122.191 23.2884 122.191C23.5746 122.191 23.7972 122.286 23.9562 122.477C24.1152 122.652 24.2265 122.875 24.2901 123.145C24.3378 123.399 24.3616 123.646 24.3616 123.884V128.344C24.4252 128.026 24.4888 127.7 24.5524 127.367C24.6001 127.033 24.6478 126.699 24.6955 126.365C24.8863 126.428 25.0692 126.508 25.2441 126.603C25.4031 126.699 25.5701 126.81 25.745 126.937C26.1902 126.651 26.5877 126.309 26.9375 125.912C27.2714 125.514 27.6053 125.117 27.9392 124.719C27.9869 124.656 28.0346 124.6 28.0823 124.552C28.13 124.489 28.1777 124.433 28.2254 124.385C28.3049 124.306 28.3764 124.266 28.44 124.266C28.5354 124.266 28.607 124.306 28.6547 124.385C28.6865 124.465 28.7024 124.544 28.7024 124.624C28.7024 124.958 28.6229 125.347 28.4639 125.792C28.289 126.222 28.0902 126.651 27.8676 127.08C27.645 127.494 27.4383 127.836 27.2475 128.106C27.5973 128.456 27.9074 128.893 28.1777 129.418C28.4321 129.926 28.5752 130.435 28.607 130.944H29.3702V123.908C28.9568 123.908 28.607 123.749 28.3208 123.431C28.0346 123.113 27.8915 122.755 27.8915 122.358C27.8915 122.008 28.0266 121.666 28.2969 121.332C28.5672 120.998 28.8852 120.832 29.2509 120.832ZM16.2525 134.331C16.3479 134.331 16.4354 134.402 16.5149 134.545C16.5785 134.689 16.6262 134.792 16.658 134.855C16.9124 135.396 17.1668 135.937 17.4212 136.477C17.6597 137.018 17.8982 137.559 18.1367 138.099C18.0413 138.179 17.8903 138.314 17.6836 138.505C17.4769 138.679 17.2702 138.846 17.0635 139.005C16.8409 139.149 16.6739 139.22 16.5626 139.22C16.4513 139.22 16.3797 139.164 16.3479 139.053C16.2843 138.91 16.2287 138.656 16.181 138.29C16.1333 137.908 16.0935 137.487 16.0617 137.026C16.0299 136.549 16.0061 136.112 15.9902 135.714C15.9743 135.301 15.9663 134.999 15.9663 134.808C15.9663 134.712 15.9822 134.609 16.014 134.498C16.0458 134.386 16.1253 134.331 16.2525 134.331ZM20.2117 129.585C21.1339 129.585 21.7461 129.775 22.0482 130.157C22.3503 130.523 22.5013 131.151 22.5013 132.041V135.022H18.5183V129.585H20.2117ZM15.3224 134.498C15.5291 134.498 15.6324 134.609 15.6324 134.832C15.6324 135.452 15.6006 136.072 15.537 136.692C15.4734 137.312 15.4178 137.932 15.3701 138.552C15.1793 138.489 14.9805 138.401 14.7738 138.29C14.5671 138.179 14.3763 138.075 14.2014 137.98C14.106 137.916 14.0186 137.837 13.9391 137.741C13.8437 137.646 13.796 137.543 13.796 137.431C13.796 137.352 13.8516 137.169 13.9629 136.883C14.0583 136.597 14.1776 136.287 14.3207 135.953C14.4638 135.619 14.6069 135.325 14.75 135.07C14.8772 134.8 14.9726 134.641 15.0362 134.593C15.1157 134.53 15.2111 134.498 15.3224 134.498ZM20.2117 123.431C21.1498 123.431 21.7699 123.622 22.072 124.004C22.3582 124.385 22.5013 125.021 22.5013 125.912V128.845H18.5183V123.431H20.2117ZM12.6512 121.881C13.2872 121.992 13.9073 122.223 14.5115 122.573C15.0998 122.922 15.6245 123.328 16.0856 123.789C16.2923 123.996 16.4831 124.226 16.658 124.481C16.817 124.719 16.8965 124.997 16.8965 125.315C16.8965 125.427 16.8488 125.514 16.7534 125.578C16.658 125.641 16.5547 125.673 16.4434 125.673C15.9822 125.673 15.5291 125.657 15.0839 125.625C14.6387 125.578 14.1935 125.53 13.7483 125.482V127.319C13.8119 127.255 13.955 127.144 14.1776 126.985C14.3843 126.826 14.5989 126.675 14.8215 126.532C15.0441 126.373 15.1872 126.293 15.2508 126.293C15.3303 126.293 15.386 126.341 15.4178 126.436C15.4337 126.532 15.4416 126.611 15.4416 126.675C15.4734 126.977 15.4973 127.279 15.5132 127.581C15.5132 127.867 15.5291 128.162 15.5609 128.464C15.5768 128.798 15.6006 129.131 15.6324 129.465C15.6642 129.799 15.6801 130.133 15.6801 130.467C15.6801 130.658 15.6006 130.753 15.4416 130.753C15.3462 130.753 15.2667 130.706 15.2031 130.61C15.1395 130.515 15.0918 130.435 15.06 130.372C14.8056 129.911 14.5751 129.434 14.3684 128.941C14.1617 128.448 13.955 127.963 13.7483 127.486V131.111H17.8028V133.925H13.7483V139.554H16.5388V142.368H12.6512V133.925H11.2917V139.936H10.1469V127.2C9.76527 127.2 9.46317 127.048 9.24057 126.746C9.00206 126.444 8.88281 126.118 8.88281 125.769C8.88281 125.466 8.99411 125.148 9.21672 124.815C9.42342 124.481 9.69372 124.314 10.0276 124.314C10.4728 124.314 10.7988 124.465 11.0055 124.767C11.1963 125.053 11.2917 125.395 11.2917 125.792V131.111H12.6512V121.881ZM17.4928 126.055C17.6836 126.055 17.779 126.166 17.779 126.389C17.779 126.452 17.7631 126.627 17.7313 126.913C17.6836 127.2 17.6359 127.541 17.5882 127.939C17.5246 128.321 17.4689 128.702 17.4212 129.084C17.3576 129.449 17.302 129.767 17.2543 130.038C17.2066 130.308 17.1748 130.459 17.1589 130.491C17.1271 130.586 17.0635 130.634 16.9681 130.634C16.9045 130.634 16.7773 130.554 16.5865 130.395C16.3956 130.221 16.2128 130.046 16.0379 129.871C15.8471 129.68 15.7199 129.553 15.6563 129.489C15.704 129.346 15.7994 129.092 15.9425 128.726C16.0856 128.36 16.2525 127.971 16.4434 127.557C16.6183 127.144 16.8011 126.794 16.9919 126.508C17.1827 126.206 17.3497 126.055 17.4928 126.055Z" 
                            :fill="SColor"/>
                        <path d="M18.3796 160.012C20.357 160.012 21.4105 158.404 22.3539 157.227C22.6865 156.812 23 156.412 23 156.012C23 155.612 22.6869 155.212 22.3535 154.797C21.4109 153.619 20.357 152.012 18.38 152.012C16.403 152.012 14.9998 154.212 16.9012 156.012C14.9998 157.812 16.4022 160.012 18.3796 160.012Z" 
                            fill="#FF5959" stroke="#FF8B8B"/>
                    </svg>
                </div>
            </div>
            <div v-if="!isChoosenHidden" class="choosen">
                <div class="theButtons">
                    <button class="theButton" 
                        @click="selectedArea = 'ticket_bgs'"
                        :class="{ 'active-theButton': selectedArea === 'ticket_bgs' }">
                        <h6>票券背景</h6>
                    </button>
                    <button class="theButton" 
                        @click="selectedArea = 'ticket_colors'"
                        :class="{ 'active-theButton': selectedArea === 'ticket_colors' }">
                        <h6>文字顏色</h6>
                    </button>
                    <button class="theButton" 
                        @click="selectedArea = 'ticket_stickers'"
                        :class="{ 'active-theButton': selectedArea === 'ticket_stickers' }">
                        <h6>　貼紙</h6><h6>　</h6>
                    </button>
                    <button class="theButton" 
                        @click="selectedArea = 'ticket_morebangs'"
                        :class="{ 'active-theButton': selectedArea === 'ticket_morebangs' }">
                        <h6>　公版</h6><h6>　</h6>
                    </button>
                </div>
                <div class="theChosenArea">
                    <div v-if="selectedArea === 'ticket_bgs'" class="ticket_bgs selector">
                        <img class="ticket_bg" src="../../assets/images/ms/ticket_bg_style_1.png" alt="" @click="changeColors('#F9F0DB', '#FEDCAA', '#ADD89D', '#FFDE59', '#FFA2A0', '#80BD6B', '#FFE382', '#F9F0DB', '#F9F0DB', '../src/assets/images/ms/real_sticker_1.png', '../src/assets/images/ms/ticket_barcode_1.png')">
                        <img class="ticket_bg" src="../../assets/images/ms/ticket_bg_style_2.png" alt="" @click="changeColors('#E5D3C3', '#C29475', '#B57A5A','#9B5B44','#EA650C','#178852','#FFE382','#F9F0DB','#F9F0DB','../src/assets/images/ms/real_sticker_2.png','../src/assets/images/ms/ticket_barcode_2.png')">
                        <img class="ticket_bg" src="../../assets/images/ms/ticket_bg_style_3.png" alt="" @click="changeColors('linear-gradient(75deg, #FFE2E1 3.93%, #FFFCF5 48.61%)', '#FD6F6C', '#FFA2A0','#E6C58B','#FFA2A0','#FFD14A','#FFE382','#F9F0DB','#F9F0DB','../src/assets/images/ms/real_sticker_3.png','../src/assets/images/ms/ticket_barcode_3.png')">
                        <img class="ticket_bg" src="../../assets/images/ms/ticket_bg_style_4.png" alt="" @click="changeColors('#D2DBE5', '#ABBECE', '#7E9AB2','#618AA3','#375367','#778585','#FFE382','#F9F0DB','#E0E9ED','../src/assets/images/ms/real_sticker_4.png','../src/assets/images/ms/ticket_barcode_4.png')">
                        <img class="ticket_bg" src="../../assets/images/ms/ticket_bg_style_5.png" alt="" @click="changeColors('linear-gradient(103deg, #7B7B7B 2.67%, #7C7C7C 31.27%, #DFDFDF 85.27%)', '#C8C8C8', '#999999','#505050','#FFF3C6','#DFDFDF','#FFE382','#DFDFDF','#505050','../src/assets/images/ms/real_sticker_5.png','../src/assets/images/ms/ticket_barcode_5.png')">
                        <img class="ticket_bg" src="../../assets/images/ms/ticket_bg_style_6.png" alt="" @click="changeColors('#ECF5D2', '#CCE391', '#CCE391', '#8EB177', '#D45F48', '#875E47', '#BA795F', '#F7FBEA', '#F7FBEA', '../src/assets/images/ms/real_sticker_6.png', '../src/assets/images/ms/ticket_barcode_6.png')">
                        <!-- <img class="ticket_bg" src="../../assets/images/ms/ticket_bg_style_6.png" alt="" @click="changeColors('#F9F0DB'                                                               , '#FEDCAA', '#ADD89D','#','#','#','#','#','#')"> -->
                    </div>
                    <div v-if="selectedArea === 'ticket_colors'" class="ticket_colors selector" >
                        <img class="ticket_color" src="../../assets/images/ms/ticket_colors_1.png" alt="" @click="changeColors('#FB9D3C','#AD8662','#FDC274')">
                        <img class="ticket_color" src="../../assets/images/ms/ticket_colors_2.png" alt="" @click="changeColors('#FB9D3C','#875E47','#FFFAEF')">
                        <img class="ticket_color" src="../../assets/images/ms/ticket_colors_3.png" alt="" @click="changeColors('#FFE382','#875E47','#FD6F6C')">
                        <img class="ticket_color" src="../../assets/images/ms/ticket_colors_4.png" alt="" @click="changeColors('#FFFFFF','#778585','#4A657F')">
                        <img class="ticket_color" src="../../assets/images/ms/ticket_colors_5.png" alt="" @click="changeColors('#FFFFFF','#FFF3C6','#DFDFDF')">
                        <img class="ticket_color" src="../../assets/images/ms/ticket_colors_6.png" alt="" @click="changeColors('#BFA485', '#875E47', '#6A9052')">
                        <!-- <img class="ticket_color" src="../../assets/images/ms/ticket_colors_6.png" alt="" @click="changeColors('#FB9D3C','#875E47','#FFFAEF')"> -->
                    </div>
                    <div v-if="selectedArea === 'ticket_stickers'" class="ticket_stickers selector">
                        <img class="ticket_sticker" src="../../assets/images/ms/ticket_stickers_1.png" alt="" @click="changeColors('../src/assets/images/ms/ticket_stickers_1.png')">
                        <img class="ticket_sticker" src="../../assets/images/ms/ticket_stickers_2.png" alt="" @click="changeColors('../src/assets/images/ms/ticket_stickers_2.png')">
                        <img class="ticket_sticker" src="../../assets/images/ms/ticket_stickers_3.png" alt="" @click="changeColors('../src/assets/images/ms/ticket_stickers_3.png')">
                        <img class="ticket_sticker" src="../../assets/images/ms/ticket_stickers_4.png" alt="" @click="changeColors('../src/assets/images/ms/ticket_stickers_4.png')">
                        <img class="ticket_sticker" src="../../assets/images/ms/ticket_stickers_5.png" alt="" @click="changeColors('../src/assets/images/ms/ticket_stickers_5.png')">
                        <img class="ticket_sticker" src="../../assets/images/ms/ticket_stickers_6.png" alt="" @click="changeColors('../src/assets/images/ms/ticket_stickers_6.png')">
                        <!-- <img class="ticket_sticker" src="../../assets/images/ms/ticket_stickers_6.png" alt="" @click="changeColors('../src/assets/images/ms/ticket_stickers_6.png')"> -->
                    </div>
                    <div v-if="selectedArea === 'ticket_morebangs'" class="ticket_morebangs selector">
                        <img class="ticket_morebang" src="../../assets/images/ms/ticket_morebang_1.png" alt="" @click="changeColors('#F9F0DB', '#FEDCAA', '#ADD89D','#FFDE59','#FFA2A0','#80BD6B','#FFE382','#F9F0DB','#F9F0DB','../src/assets/images/ms/real_sticker_1.png','../src/assets/images/ms/ticket_barcode_1.png','#FB9D3C','#AD8662','#FDC274','../src/assets/images/ms/ticket_stickers_1.png')">
                        <img class="ticket_morebang" src="../../assets/images/ms/ticket_morebang_2.png" alt="" @click="changeColors('#E5D3C3', '#C29475', '#B57A5A','#9B5B44','#EA650C','#178852','#FFE382','#F9F0DB','#F9F0DB','../src/assets/images/ms/real_sticker_2.png','../src/assets/images/ms/ticket_barcode_2.png','#FB9D3C','#875E47','#FFFAEF','../src/assets/images/ms/ticket_stickers_2.png')">
                        <img class="ticket_morebang" src="../../assets/images/ms/ticket_morebang_3.png" alt="" @click="changeColors('linear-gradient(75deg, #FFE2E1 3.93%, #FFFCF5 48.61%)', '#FD6F6C', '#FFA2A0','#E6C58B','#FFA2A0','#FFD14A','#FFE382','#F9F0DB','#F9F0DB','../src/assets/images/ms/real_sticker_3.png','../src/assets/images/ms/ticket_barcode_3.png','#FFE382','#875E47','#FD6F6C','../src/assets/images/ms/ticket_stickers_3.png')">
                        <img class="ticket_morebang" src="../../assets/images/ms/ticket_morebang_4.png" alt="" @click="changeColors('#D2DBE5', '#ABBECE', '#7E9AB2','#618AA3','#375367','#778585','#FFE382','#F9F0DB','#E0E9ED','../src/assets/images/ms/real_sticker_4.png','../src/assets/images/ms/ticket_barcode_4.png','#FFFFFF','#778585','#4A657F','../src/assets/images/ms/ticket_stickers_4.png')">
                        <img class="ticket_morebang" src="../../assets/images/ms/ticket_morebang_5.png" alt="" @click="changeColors('linear-gradient(103deg, #7B7B7B 2.67%, #7C7C7C 31.27%, #DFDFDF 85.27%)', '#C8C8C8', '#999999','#505050','#FFF3C6','#DFDFDF','#FFE382','#DFDFDF','#505050','../src/assets/images/ms/real_sticker_5.png','../src/assets/images/ms/ticket_barcode_5.png','#FFFFFF','#FFF3C6','#DFDFDF','../src/assets/images/ms/ticket_stickers_5.png')">
                        <img class="ticket_morebang" src="../../assets/images/ms/ticket_morebang_6.png" alt="" @click="changeColors('#ECF5D2', '#CCE391', '#CCE391', '#8EB177', '#D45F48', '#875E47', '#BA795F', '#F7FBEA', '#F7FBEA', '../src/assets/images/ms/real_sticker_6.png', '../src/assets/images/ms/ticket_barcode_6.png','#BFA485', '#875E47', '#6A9052', '../src/assets/images/ms/ticket_stickers_6.png')">
                        <!-- <img class="ticket_morebang" src="../../assets/images/ms/ticket_morebang_6.png" alt="" @click="changeColors('#F9F0DB', '#FEDCAA', '#ADD89D','#FFDE59','#FFA2A0','#80BD6B','#FFE382','#F9F0DB','#F9F0DB','../src/assets/images/ms/real_sticker_1.png','../src/assets/images/ms/ticket_barcode_1.png','#FB9D3C','#AD8662','#FDC274','../src/assets/images/ms/ticket_stickers_6.png')"> -->
                    </div>
                </div>
            </div>
        </div>
        <div class="finishMyTicket">
            <button v-if="!isChoosenHidden" @click="hideChoosen" class="CTbtn btnColor2" id="FMTbtn">完成</button>
        </div>
        <div ref="sentMyTicketBTN" class="sentMyTicket">
            <button v-if="isChoosenHidden" @click="wantToChoose" class="CTbtn btnColor1" id="RMTbtn">重新製作</button>
            
             <button v-if="isChoosenHidden" class="CTbtn btnColor2" id="CMTbtn" @click="updatepage">確認送出</button>
            
        </div>
    </div>
</template>


<script>
export default {
  data() {
    return {             
      year: '',
      monthShort: '',
      day: '',                                                 
      selectedArea: 'ticket_bgs',
      tk_bg_color: '#F9F0DB', 
      tk_stk_color: '#FEDCAA',
      tk_right_color: '#ADD89D',
      subTitColor: '#FB9D3C',       
      subsubTitColor: '#AD8662',    
      TitColor: '#FDC274',         
      DSTTColor: '#FFDE59',
      DSTBColor:'#FFA2A0' ,
      DSTBRColor:'#80BD6B' ,
      RSTTColor: '#FFE382',
      RSTMColor: '#F9F0DB',
      SColor:'#F9F0DB',
      realStickerRoad:'../src/assets/images/ms/real_sticker_1.png',
      bigStickerRoad:'../src/assets/images/ms/ticket_stickers_1.png',
      barcode:'../src/assets/images/ms/ticket_barcode_1.png',
      gradientCounter: 0  ,
      isChoosenHidden: false,
      IwantToChoose:false,
    };
  },
  mounted() {
    // 在組件掛載時呼叫更新日期的函式
    this.updateDate();
  },
  methods: {
    hideChoosen() {
      this.isChoosenHidden = true;
      this.isMoved = true; 
    },
    wantToChoose() {
      this.IwantToChoose = true;
      this.isChoosenHidden = false;
      this.isMoved = false; 
    },
    changeColors(...colors) {
      if (colors.length === 15) {
        const [
          bgColor, stkColor, rightColor, DSTTColor, DSTBColor, 
          DSTBRColor, RSTTColor, RSTMColor, SColor, 
          realStickerRoad, barcode, 
          subTitColor, subsubTitColor, TitColor, bigStickerRoad
        ] = colors;
        this.applyColors(
          bgColor, stkColor, rightColor, DSTTColor, DSTBColor, 
          DSTBRColor, RSTTColor, RSTMColor, SColor, 
          realStickerRoad, barcode
        );
        this.subTitColor = subTitColor;
        this.subsubTitColor = subsubTitColor;
        this.TitColor = TitColor;
        this.bigStickerRoad = bigStickerRoad;
      } else if (colors.length === 11) {
        const [
          bgColor, stkColor, rightColor, DSTTColor, DSTBColor, 
          DSTBRColor, RSTTColor, RSTMColor, SColor, 
          realStickerRoad, barcode
        ] = colors;
        this.applyColors(
          bgColor, stkColor, rightColor, DSTTColor, DSTBColor, 
          DSTBRColor, RSTTColor, RSTMColor, SColor, 
          realStickerRoad, barcode
        );
      } else if (colors.length === 3) {
        const [subTitColor, subsubTitColor, TitColor] = colors;
        this.subTitColor = subTitColor;
        this.subsubTitColor = subsubTitColor;
        this.TitColor = TitColor;
      } else if (colors.length === 1) {
        const [bigStickerRoad] = colors;
        this.bigStickerRoad = bigStickerRoad;
      }
    },

    applyColors(bgColor, stkColor, rightColor, DSTTColor, DSTBColor, DSTBRColor, RSTTColor, RSTMColor, SColor, realStickerRoad, barcode) {
      console.log('bgColor:', bgColor); 
      
      if (bgColor.startsWith('linear-gradient')) {
        this.gradientCounter += 1; 
        const gradientId = `customGradient${this.gradientCounter}`;
        this.createGradient(bgColor, gradientId);
        this.tk_bg_color = `url(#${gradientId})`;
      } else {
        this.tk_bg_color = bgColor;
      }
      
      this.tk_stk_color = stkColor;
      this.tk_right_color = rightColor;
      this.DSTTColor = DSTTColor;
      this.DSTBColor = DSTBColor;
      this.DSTBRColor = DSTBRColor;
      this.RSTTColor = RSTTColor;
      this.RSTMColor = RSTMColor;
      this.SColor = SColor;
      this.realStickerRoad = realStickerRoad;
      this.barcode = barcode; 
    },

    createGradient(gradientString, gradientId) {
      console.log('Creating gradient with:', gradientString);

      const gradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
      gradient.setAttribute('id', gradientId);
      gradient.setAttribute('x1', '0%');
      gradient.setAttribute('y1', '0%');
      gradient.setAttribute('x2', '100%');
      gradient.setAttribute('y2', '0%');

      const colors = gradientString.match(/#[0-9A-Fa-f]{6}/g);
      const stops = gradientString.match(/(\d+(\.\d+)?%)/g);

      if (colors && stops) {
        colors.forEach((color, index) => {
          const stop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
          stop.setAttribute('offset', stops[index]);
          stop.setAttribute('style', `stop-color:${color};stop-opacity:1`);
          gradient.appendChild(stop);
        });

        const defs = document.querySelector('svg defs');
        if (defs) {
          defs.appendChild(gradient);
        } else {
          const svg = document.querySelector('svg');
          const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
          defs.appendChild(gradient);
          svg.insertBefore(defs, svg.firstChild);
        }
      } else {
        console.error('Failed to parse gradient colors or stops:', colors, stops);
      }
    },
    updateDate() {
      const now = new Date(); // 抓取當前時間

      // 獲取當前月份並轉換成兩位數字
      const month = (now.getMonth() + 1).toString().padStart(2, '0'); // getMonth() 返回值範圍是 0-11，所以需要 +1
      // 獲取當前日並轉換成兩位數字
      const day = now.getDate().toString().padStart(2, '0');

      // 將月份與日期用 '.' 串接起來
      this.monthDay = `${month}.${day}`;

      // 獲取年份
      this.year = now.getFullYear();

      // 獲取月份縮寫 (如 "OCT")
      const months = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
      this.monthShort = months[now.getMonth()];
    }
  }
};
</script>

<script setup>
    
    import html2canvas from 'html2canvas';
    import { ref, onMounted } from 'vue'

    const pathData1 = ref('')
    const pathData2 = ref('')
    const pathData3 = ref('')
    const pathDataText1 = ref('')
    const pathDataText2 = ref('')
    const pathDataText3 = ref('')
    const pathDataText4 = ref('')
    const pathDataText5 = ref('')
    const pathDataText6 = ref('')

    async function loadPathData(filePath, targetRef) {
    try {
        const response = await fetch(filePath)
        const data = await response.text()
        targetRef.value = data.trim()
    } catch (error) {
        console.error(`Error loading the path data from ${filePath}:`, error)
    }
    }

    onMounted(() => {
    loadPathData('../src/assets/images/ms/SVG_text/svg_custom1.txt', pathData1)
    loadPathData('../src/assets/images/ms/SVG_text/svg_custom2.txt', pathData2)
    loadPathData('../src/assets/images/ms/SVG_text/svg_custom3.txt', pathData3)
    loadPathData('../src/assets/images/ms/SVG_text/pathDataText1.txt', pathDataText1)
    loadPathData('../src/assets/images/ms/SVG_text/pathDataText2.txt', pathDataText2)
    loadPathData('../src/assets/images/ms/SVG_text/pathDataText3.txt', pathDataText3)
    loadPathData('../src/assets/images/ms/SVG_text/pathDataText4.txt', pathDataText4)
    loadPathData('../src/assets/images/ms/SVG_text/pathDataText5.txt', pathDataText5)
    loadPathData('../src/assets/images/ms/SVG_text/pathDataText6.txt', pathDataText6)
    })

    const updatepage = () => {  //點擊送出按鈕之後顯示第二頁製作完成頁 
    // 1. 使用 html2canvas 將票券區域轉換為圖片
    const ticketPreviewElement = document.querySelector('.show');

 //=================依賴後端存取開始(圖片相對路徑)
 html2canvas(ticketPreviewElement, { backgroundColor: null }).then(canvas => {
  canvas.toBlob(blob => {
    const formData = new FormData();
    formData.append('image', blob, 'LC_ticket.png');

    fetch('http://illusionlab.local/public/PDO/TicketOrder/save_custom_ticket.php', {
      method: 'POST',
      body: formData,
    })
    .then(response => response.json())
    .then(data => {
      console.log('圖片路徑儲存成功:', data);

      setTimeout(()=>{
        window.location.href = "/mindspectrum";
      },300);
    })
    .catch(error => {
      console.error('圖片儲存失敗:', error);
    });
  }, 'image/png');
});
//=================依賴後端存取結束(圖片相對路徑)
}

</script>

<style lang="scss" scoped>
  @import "../../assets/SASS/component/ms";
.template{
  background-image: url('../src/assets/images/ms/modeBGI3.jpg');

}

.finishMyTicket{
    position: absolute;
    bottom: 7%;
}
.theRock{
    position: relative;
    height: 899px;
}
.theRock > svg{
    transform: scale(0.5);
    position: absolute;
    transition: transform 0.7 ease ;
}
.touchMyBody{
    position: absolute;
    width: 880px;
    height: 899px;
}

.Boom1{
    position: absolute !important;
    transform: translateX(200px)scale(0.7) !important;
    transition: transform 0.7s ease !important; /* 添加单位 's' 以指定过渡时间 */
}



.sentMyTicket{
    margin-top: 280px;
    display: flex;
    flex-direction: row;
    gap: 120px;
    transition: gap 0.8s ease;
}
    .CTbtn{
        font-family: 'Noto Sans TC';
        font-weight: bold;
        width: 150px;
        height: 40px;
        border: none;
        border-radius: 40px;
        cursor: pointer;
    }
    $btnColor1-1: #FFEDBC;
    $btnColor1-2: #FFC94A;
    $btnColor2-1: #FDC274;
    $btnColor2-2: #FB9D3C;

    .CTbtn {
    &.btnColor1 {
        background-color: $btnColor1-1;
        color: #855F49;
        &:hover {
            color: #FFFFFF;
            background-color: $btnColor1-2;
        }
    }

    &.btnColor2 {
        background-color: $btnColor2-1;
        color: #855F49;
        &:hover {
        background-color: $btnColor2-2;
        color: #FFFFFF;
        }
    }
    }

    .barcode{
        position: absolute;
        width: 102px;
        right: 0;
    }
.bigSticker{
    position: absolute;
    width: 230px;
    bottom: 1%;
    left: 28.5%;
}
    .subTit{
        position: absolute;
        top: 35%;
        left: 5%;
    }
    .show{
        transform: scale(1);
        display: flex;
        flex-direction: row;
        position: absolute;
        top: 35%;
        right: calc(73% - (455px /2));
        transition: right 0.6s ease ,top 0.6s ease,transform 0.6s ease;

    }
    .new-position {
        transform: scale(1.2);
        top: 30%;
        right: calc(50% - (455px /2));
        transition: right 0.6s ease ,top 0.6s ease,transform 0.6s ease;
        }
    .ticket{
        margin: 0 auto;
        position: relative;
        width: 455px;

    }
    .choosen{
        margin-left: 50vw;
        width: 40vw;
    }
    .theButtons{
        display: flex;
        flex-direction: row;
    }
    .theButton{
        flex-grow: 1;
        text-align: center;
        height: 8vh;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 12px 12px 0px 0px;
        border: 1px solid var(--Color-6, #FFF);
        background: #FEDCAA;
        color: #9F7557;
    }
    .theButton:hover{
        flex-grow: 1;
        text-align: center;
        height: 8vh;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 12px 12px 0px 0px;
        border: 1px solid var(--Color-6, #FFF);
        background: #FDC274;
    }
    .theButton:hover h6{
        color: white !important;
    }
    .active-theButton{
        flex-grow: 1;
        text-align: center;
        height: 8vh;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 12px 12px 0px 0px;
        border: 1px solid var(--Color-6, #FFF);
        background: #FDC274;
    }
    .active-theButton h6{
        color: white !important;
    }
    .customization{
        display: flex;
        flex-direction: row;
        // align-items: center;
        gap: 50px;
    }
    .theChosenArea{
        background-color: #FFFAF4;
        border: 1px solid #FDC274;
        box-shadow: 2px 4px 4px 0px rgba(0, 0, 0, 0.15);
        border-radius: 0px 0px 12px 12px;
        height: 350px;
    }
    .ticket_bgs, .ticket_colors, .ticket_stickers, .ticket_morebangs {
    padding: 4vh 2vw;
    /* align-items: center; */

    /* height: 100%; */
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2vw;
    }
    .ticket_bg ,.ticket_color  ,.ticket_morebang {
    width: 16vw;
    }
    .ticket_sticker{
        width: 10vw;
    }

    .template{
        height: 100vh;
        font-family:'Noto Sans TC';
        font-weight: bold;
        padding:100px 0px !important;
        gap: 50px !important;
        min-height: 100vh !important;
    }
    .TST{
        margin-top: 5px;
        text-align: left !important;
        font-size: 9px !important;
    }
    .botSubTit{
        position: absolute;
        bottom: 10%;
        left: 13%;

    }
    .DSTT{
        font-size: 24px;
    }
    .DSTB{
        font-size: 14px;
    }
    .rightSubTit{
        position: absolute;
        transform: rotate(-90deg);
        right: 1%;
        bottom: 12%;
    }
    .RSTT{
        font-size: 9px;
    }
    .RSTM{
        font-size: 24px;
    }
    .RSTB{
        font-size: 14px;
    }
    .realSticker{
        position: absolute;
        width: 155px;
        bottom: 6%;
        left: 3%;
    }
    @media screen and (max-width:920px) {
        .ticket_bg, .ticket_color, .ticket_morebang {
            width: 20vw;
        }
        .finishMyTicket{
            position: relative;
            margin-top: 30px;
        }
        .customization {
            flex-direction: column; 
        }
        .show{
            top: 12%;
            right: calc(50% - (455px /2));
        }
        .choosen{
            width: 70vw;
            margin-left: 0;
            margin-top: 180px;
        }
        .ticket_sticker {
        width: 18vw;
        }
        .ticket{
            transform: scale(0.9);
        }
        .theChosenArea {
            height: auto;
        }
        .sentMyTicket{
        margin-top: 180px;
        }
    }
    @media screen and (max-width:600px) {
        .finishMyTicket{
            position: relative;
            margin-top: 5px;
        }
        .show{
            top: 5%;
        }
        .ticket{
            transform: scale(0.7);
        }
        .ticket_bg, .ticket_color, .ticket_morebang {
            width: 30vw
        }
        .choosen{
            margin-top: 130px;
        }
        .sentMyTicket{
        margin-top: 150px;
        }
    }
    @media screen and (max-width:450px) {
        .ticket{
            transform: scale(0.6);
        }
        .ticket_bg, .ticket_color, .ticket_morebang {
            width: 50vw
        }
        h6{
            font-size: 12px !important;
        }
        .sentMyTicket{
        margin-top: 130px;
        gap: 30px;  
        }

    }
    @media screen and (max-width:450px) {
        .sentMyTicket{
        gap: 20px;  
        }
    }
</style>
  